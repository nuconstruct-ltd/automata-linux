# ==============================================================================
# CVM Deployment Configuration
# ==============================================================================
# Copy this file to .env and customize values for your deployment.
# All values below show the defaults used when the variable is unset.
#
# This file is automatically loaded by docker-compose / podman-compose
# and provides runtime configuration for the CVM workload.
# ==============================================================================

# --- Container Images ---
# Images with pull_policy: never (controller, operator) are baked into the disk.
# Changing these only affects the docker-compose template, not what actually runs
# unless the disk image is rebuilt.
TOOL_NODE_IMAGE=gcr.io/constellation-458212/tool-node:tool-dns
LIGHTHOUSE_IMAGE=docker.io/sigp/lighthouse:latest
NODE_EXPORTER_IMAGE=docker.io/prom/node-exporter:v1.9.1
FLUENT_BIT_IMAGE=docker.io/fluent/fluent-bit:latest
CONTROLLER_IMAGE=ghcr.io/nuconstruct-ltd/controller:latest
OPERATOR_IMAGE=ghcr.io/nuconstruct-ltd/operator:latest
CADDY_IMAGE=docker.io/library/caddy:latest

# --- Tool Node Parameters ---
RELAY_SECRET_KEY=
TEE_VERIFIER_ADDRESS=
TOOL_DNS_ENDPOINT=enrtree://AO7WHA56ZB2MZZZ2IAM5NIX7FUMAIHYQXYY33HUZ2K4BMCKBZWZAQ@tool.hoodi.sdoba.vip
HISTORY_BLOCKS=512
HISTORY_CHAIN=all

# --- Lighthouse (Beacon Chain) Parameters ---
CHECKPOINT_SYNC_URL=https://checkpoint-sync.hoodi.ethpandaops.io
LIGHTHOUSE_NETWORK=hoodi
FEE_RECIPIENT=0x00000000000000000000000000000000DeaDBeef

# --- Logging Configuration ---
VM_NAME=cvm
LOKI_HOST=loki.example.com
LOKI_PORT=3100
LOKI_TLS=Off

# --- Controller API ---
CONTROLLER_API_KEY=

# --- Caddy Domains (used to generate Caddyfile) ---
# Set these to your domain names for automatic HTTPS via Let's Encrypt.
# Leave empty to use port-based access only (no TLS).
CADDY_RPC_DOMAIN=
CADDY_CVM_DOMAIN=
CADDY_CONTROLLER_DOMAIN=

# --- SSH Access ---
# Path to your SSH public key file for operator container access.
# Used during deployment to populate authorized_keys.
SSH_PUBLIC_KEY_FILE=~/.ssh/id_ed25519.pub

# --- Deployment Parameters ---
# These are loaded by atakit as defaults. CLI flags override these values.
# Not used by docker-compose directly.
CSP=gcp                            # Cloud provider: gcp, aws, or azure
PROJECT_ID=                        # GCP project ID (defaults to gcloud config)
REGION=asia-southeast1-b           # Deployment region/zone
VM_TYPE=c3-standard-4              # VM instance type
VM_NAME_DEPLOY=cvm-test            # Virtual machine name (uses VM_NAME_DEPLOY to avoid conflict with VM_NAME logging var)
BUCKET=                            # Storage bucket (auto-generated if empty)
CREATE_IP_NAME=                    # Name for auto-created static IP
ATTACH_DISK=                       # Data disk name
DISK_SIZE=10                       # Data disk size in GB
ADDITIONAL_PORTS=                  # Comma-separated list of ports to open (e.g., "80,443,8545")
